<!doctype html>
<html>
<head>
  <!-- ... -->
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
   <link href="https://unpkg.com/tailwindcss@^2/dist/tailwind.min.css" rel="stylesheet">
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
  <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/jquery-cookie/1.4.1/jquery.cookie.min.js"></script>

        <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.3/jquery.min.js"></script>
        <script src="../data1.js"></script>
        <script src="../data2.js"></script>
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.0.0-beta.2/css/bootstrap.css" />
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css" />
        <script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.0.0-beta.2/js/bootstrap.bundle.min.js"></script>
		
		    <link rel="stylesheet" href="../css/nicepage.css" media="screen">


 <script class="u-script" type="text/javascript" src="jquery.js" defer=""></script>
    <script class="u-script" type="text/javascript" src="nicepage.js" defer=""></script>
    <meta name="generator" content="Nicepage 5.6.2, nicepage.com">
    <link id="u-theme-google-font" rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:100,100i,300,300i,400,400i,500,500i,700,700i,900,900i|Open+Sans:300,300i,400,400i,500,500i,600,600i,700,700i,800,800i">
    dnjs.cloudflare.com/ajax/libs/jquery-cookie/1.4.1/jquery.cookie.min.js"></script>

  <script type ="text/javascript">
    function ForgotPasswordValidation() {


var jemail = document.getElementById('loginemail').value;
var jdob = document.getElementById('dateofbirth').value;
var janswersq = document.getElementById('answersq').value;
var jpass = document.getElementById('loginpassword').value;




//var query = jfname +jlname +jemail+jpass+janswersq +jdob+jcity+jzip+jmobile+jsecurityquestion;
//alert (query);

// call all small funtions

ValidateEmail(jemail);
ValidatePassword(jpass);
ValidateSecurityQuestionAnswer(janswersq);
validateDateOfBirth(jdob);


return false;
    } // end of main function 1

function ValidateEmail(jemail)
{
    if (jemail == "")
    {
            alert('Enter Email');
             event.preventDefault();
            return false;
    }
    else
    {
        var mailformat = /^\w+([\.-]?\w+)*@\w+([\.-]?\w+)*(\.\w{2,3})+$/;
            if(jemail.match(mailformat))
            {
                return true;
            }
            else
            {
                alert('Enter Valid Email Address');
                event.preventDefault();
                return false;
            }
    }
    

}
function ValidatePassword(jpass) 
{ 
        if (jpass == "")
    {
            alert('Enter Password');
             event.preventDefault();
            return false;
    }
    else
    {
  const passwordRegex = /^(?=.*[A-Za-z])(?=.*\d)[A-Za-z\d]{8,}$/;
            if(jpass.match(passwordRegex))
            {
                return true;
            }
            else
            {
                alert('Enter Valid Password');
                event.preventDefault();
                return false;
            }
    }
    
}

function ValidateSecurityQuestionAnswer(janswersq)
{
    if (janswersq == "")
    {
            alert('Enter Answer for  Security Question ');
             event.preventDefault();
            return false;
    }
    else
    {
        var letters = /^[A-Za-z]+$/;
        if(janswersq.match(letters))
        {
            return true;
        }
        else
        {
           alert('Answers must have alphabet characters only');
           event.preventDefault();
            return false;

        }
    }
  
}

function validateDateOfBirth(jdob)
{

    if (jdob == "")
        {
                alert('Enter Date of Birth');
                 event.preventDefault();
                return false;
        }
     else
     {
             // Split the date into its components
      const dateParts = jdob.split('/');
      const month = parseInt(dateParts[0]);
      const day = parseInt(dateParts[1]);
      const year = parseInt(dateParts[2]);
      
      // Create a new date object with the input
      const dob = new Date(year, month - 1, day);
      
      // Check if the date is valid
          if (isNaN(dob.getTime())) 
          {
            
            alert ('Enter Date in mm/dd/yyyy format');
            event.preventDefault();
            return false;

          } 
          else
           {
            return true;
          }
     }
 
}

  </script>
</head>
<body class="bg-blue-50">

<nav class="navbar navbar-expand-lg bg-light">
            <div class="container-fluid">
              <a class="navbar-brand" href="#">Welcome to the Cookbook Network!</a>
              <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
                <span class="navbar-toggler-icon"></span>
              </button>
              <div class="collapse navbar-collapse" id="navbarSupportedContent">
                <ul class="navbar-nav me-auto mb-2 mb-lg-0">
                  <li class="nav-item">
                    <a class="nav-link active" aria-current="page" href="index.html">Home</a>
                  </li>
                  <li class="nav-item">
                    <a class="nav-link" href="login.html">Login</a>
                  </li>
                  <li class="nav-item">
                    <a class="nav-link" href="Sign-up.html">Signup</a>
                  </li>
                </ul>
              </div>
            </div>
          </nav>
          <div class="container-fluid">
            <div class="container text-center">
              <div class="row">
                <div class="col">
                  
                </div>
              </div>
                </div>  
              </div>
         
		
          
			
          </div>
		  
		  
<div class="class1" >

     <form name ='loginform' action='forgotpassword.php' method='POST'>
            <div class="bg-white px-20 py-20 rounded shadow-md text-black w-full">
                <h1 class="mb-8 text-3xl text-center font-medium text-blue-600">ForGot Password</h1>
                <input 
                    type="text"
                    class="block border border-grey-light w-full p-3 rounded mb-8 font-light"
                    id="loginemail"
                    name="email"
                    placeholder="Email" 
                    title ="Enter Email Address" />

                    <input 
                    type="text"
                    class="block border border-grey-light w-full p-3 rounded mb-8 font-light"
                    id="dateofbirth"
                    name="bdate"
                    placeholder="DOB (mm/dd/YYYY)" 
                    title ="Enter Date Of Birth"
                    
                    />

                     <select 
                      id="securityquestion"
                    class="block border border-grey-light w-full p-3 rounded mb-4 font-light"
                                        name="question"
                    required >

                     <option value="" disabled selected hidden>Choose Security Question</option>
  <option value="Favourate Actor">What is your Favourate Actor</option>
  <option value="First School Name">What is your First School Name</option>
  <option value="Birthplace">What is your Birthplace </option>
  <option value="favourate Movie">Whcih is your favourate Movie</option>                    </select>   
                    
                <input 
                    type="text"
                    class="block border border-grey-light w-full p-3 rounded mb-4 font-light"
                    id="answersq"
                    name="answer"
                    placeholder="Answer"  />
                   
                <input 
                    type="password"
                    class="block border border-grey-light w-full p-3 rounded mb-4 font-light"
                    id='loginpassword'
                    name="password"
                    placeholder="New Password" 
                    title="Password can not be empty"
                    />
                    

                <button
                    type="submit"
                    onClick="ForgotPasswordValidation()"
                    class="w-full text-center py-3 rounded bg-blue-600 text-white hover:bg-blue-700 focus:outline-none my-1 font-regular"
                >Reset Password</button>
            </div>
            </form>

</div>

    
    

    <script type="text/javascript" src="../scripts/loginHandler.js" ></script>

</body>

</html>
